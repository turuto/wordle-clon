<template>
    <button @click="handleClick">{{ btnLabel }}</button>
</template>

<script setup lang="ts">
import { toRefs } from 'vue';
import { SPECIAL_LABELS } from '../../../config/constants';

const props = defineProps({
    letter: { type: String, required: true },
})
const emit = defineEmits(['keyClicked']);

const { letter } = toRefs(props);

let btnLabel: String;
if (letter.value === SPECIAL_LABELS.DELETE) {
    btnLabel = 'üîô';
} else if (letter.value === SPECIAL_LABELS.ENTER) {
    btnLabel = '‚úîÔ∏è';
} else {
    btnLabel = letter.value;
}

const handleClick = function (event: MouseEvent) {
    emit('keyClicked', { letter: props.letter });
    (event.target as HTMLButtonElement).blur();
};
</script>

<style scoped>
button {
    padding: .5em;

    color: salmon;
    border: 1px solid lightsalmon;
    border-radius: .2em;

    font-size: 1.1rem;
    font-weight: bold;
}

button:focus {
    outline: 2px solid green;
}
</style>